# SSR, CSR

## SSR(Server Side Rendering)

- 서버 쪽에서 렌더링 준비를 끝마친 상태로 클라이언트에 전달하는 방식

- 순서
  
  - User가 Website 요청
  
  - Server가 'Ready to Render', 즉시 렌더링 가능한 html 파일을 만든다.
    
    - 리소스 체크, 컴파일 후 완성된 HTML 컨텐츠로 만든다.
  
  - Client에 전달된 순간 이미 렌더링 준비가 되어 있기 때문에 HTML은 즉시 렌더링 된다.
    
    - 사이트 자체는 조작 불가능 (Javascript가 읽히기 전)
  
  - Client가 JavaScript를 다운 받는다.
    
    - 다운 받는 사이에 유저는 컨텐츠를 볼 수 있지만 사이트를 조작 할 수 없다.
      
      - 사용자 조작을 기억하고 있는다.
  
  - 브라우저가 Javascript 프레임워크를 실행한다.
    
    - Js가 성공적으로 컴파일 되었기 때문에 기억하고 있던 사용자 조직이 실행되고, 웹 페이지는 상호 작용이 가능해진다.
      
      - 컴파일: 주어진 언어로 작성된 컴퓨터 프로그램을 다른 언어의 동등한 프로그램으로 변환하는 프로세스

## CSR (Client Side Rendering)

- 서버는 요청을 받으면 클라이언트에 HTML과 Js를 보내준다. 클라이언트는 받아서 렌더링을 시작.

- 순서
  
  - User가 Website 요청
  
  - CDN이 HTML 파일과 Js로 접근할 수 있는 링크를 Client로 보낸다.
    
    - CDN: 엔드 유저의 요청에 '물리적'으로 가까운 서버에서 요청에 응답하는 방식
  
  - 클라이언트는 HTML과 JS를 다운로드 받는다.
    
    - SSR과 달리 유저는 아무것도 볼 수 없다.
  
  - 다운로드 완료된 JS가 실행된다. 데이터를 위한 API가 호출된다.
    
    - 유저들은 placeholder를 보게 된다.
  
  - 서버가 API 요청에 응답한다.
  
  - API로 부터 받아온 데이터를 placeholder 자리에 넣어준다.
    
    - 페이지는 상호 작용이 가능해진다.

## 차이

- 웹 페이지를 로딩하는 시간
  
  - 첫 페이지 로딩 시간
    
    - CSR은 HTML, CSS와 모든 스크립트를 한 번에 불러온다.
    
    - SSR은 필요한 부분의 HTML과 스크립트만 불러오게 된다. 더 빠름.
  
  - 나머지 로딩 시간
    
    - CSR은 이미 첫 페이지를 로딩할 때 나머지 부분을 구성하는 코드를 받아왔기 때문에 빠르다.
    
    - SSR은 첫 페이지를 로딩한 과정을 정확하게 다시 실행한다. 그래서 더 느리다.

- SEO에 대한 대응
  
  - SEO: 검색 엔진 최적화
    
    - 검색 엔진에서 찾기 쉽도록 사이트를 개선하는 프로세스.
  
  - 검색 엔진은 자동화된 로봇인 크롤러로 웹 사이트들을 읽는다.
  
  - CSR은 Javascript를 실행 시켜 동적으로 컨텐츠가 생성되기 때문에 javascript가 실행되어야 metadata가 바뀜
    
    - 이전 크롤러들 javascript 실행 시키지 않아서 seo 최적화가 필수였음.
  
  - SSR은 애초에 서버사이드에서 컴파일 되어 클라이언트에 넘어오기 때문에 크롤러 대응에 용이

- 서버 자원 사용
  
  - SSR이 서버 자원을 더 많이 사용. 매번 서버에 요청하기 때문.

## 사용 권장 예시

- SSR 사용
  
  - 네트워크가 느릴 때
    
    - SSR은 페이지마다 나누어 불러오기 때문
  
  - SEO가 필요할 때
  
  - 최초 로딩이 빨라야 하는 사이트를 개발할 때
  
  - 메인 스크립트가 크고 로딩이 매우 느릴 때
    
    - CSR은 메인스크립트가 로딩이 끝나야 API 요청
    
    - SSR은 한 번의 요청에 아예 렌더링 가능한 페이지 돌아온다.
  
  - 웹 사이트가 상호작용이 별로 없을 때

- CSR 사용
  
  - 네트워크가 빠를 때
  
  - 서버 성능이 좋지 않을 때
  
  - 사용자에게 보여줘야 하는 데이터 양이 많을 때
    
    - 로딩 창 띄울 수 있음
  
  - 메인 스크립트가 가벼울 때
  
  - 웹 어플리케이션에 사용자와 상호 작용 할 것이 많을 때
    
    - 렌더링 되지 않아서 사용자 행동을 막는 것이 오히려 사용자 경험에 유리



#### 출처

- [SSR과 CSR의 차이](https://proglish.tistory.com/216)
